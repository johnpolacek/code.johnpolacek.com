package com.johnpolacek.media {		import flash.display.Sprite;	import flash.display.Loader;	import flash.display.Bitmap;	import flash.events.Event;	import flash.events.MouseEvent;	import flash.events.IOErrorEvent;	import flash.net.URLRequest;	import flash.net.navigateToURL;	import com.johnpolacek.display.ImageDisplay;	/** * Loads image files as ImageDisplay sprites and stacks them on top of each other. * * @example  * <code>import com.johnpolacek.media.ImageStack; * var slides:ImageStack = new ImageStack("slide1.jpg","slide2.jpg","slide3.jpg"); * </code> * * @sends Event.COMPLETE # When load is complete. *  * @see com.johnpolacek.display.ImageDisplay * @version 7 Mar 2010 * @author John Polacek, john@johnpolacek.com */		public class ImageStack extends Sprite {				private var urls:Array;		private var currImageLoad:int = 0;				/** @param images An array or parameter list of url strings */			public function ImageStack(...images) 		{			if (images[0] is Array) 				urls = images[0];			else 				urls = images;			loadImage(0);		}				private function loadImage(i:int):void		{			var	image:ImageDisplay = new ImageDisplay(urls[i]);			image.addEventListener(IOErrorEvent.IO_ERROR, onIOError, false, 0, true);			image.addEventListener(Event.COMPLETE, onImageLoadComplete, false, 0, true);		}			//--------------------------------------------------------------------------    //    //  EVENT HANDLERS    //    //--------------------------------------------------------------------------								private function onIOError(event:IOErrorEvent):void		{			trace("Image not found at: "+urls[currImageLoad]);			onImageLoadComplete(null);		}				private function onImageLoadComplete(event:Event):void		{			event.target.removeEventListener(IOErrorEvent.IO_ERROR, onIOError);			event.target.removeEventListener(Event.COMPLETE, onImageLoadComplete);						if (event)			{				var	image:ImageDisplay = ImageDisplay(event.target);				addChild(image);			}						currImageLoad++;						if (currImageLoad < urls.length)				loadImage(currImageLoad);			else				dispatchEvent(new Event(Event.COMPLETE));		}			}}