package com.johnpolacek.media {		import flash.display.BlendMode;	import flash.display.Shape;	import flash.display.Sprite;	import flash.display.Loader;	import flash.events.Event;	import flash.events.IOErrorEvent;	import flash.events.MouseEvent;	import flash.events.TimerEvent;	import flash.media.Sound;	import flash.media.SoundChannel;	import flash.net.URLRequest;	import flash.text.Font;	import flash.text.TextField;	import flash.text.TextFieldAutoSize;	import flash.utils.Timer;	import com.johnpolacek.media.AudioPlayer;	/** * A vertically stacked grouping of AudioPlayers * * @example  * <code>import com.johnpolacek.media.AudioPlayer; * import com.johnpolacek.media.AudioPlayerMenu; * var urls:Array = ["song1.mpg","song2.mp3","song3.mp3"]; * var players:Array = []; * var songsLoaded:int = 0; * for (var i:int = 0; i < urls.length; i++) * { *	 var player:AudioPlayer = new AudioPlayer(); *	 players.push(player); *	 player.load(urls[i], false); *	 player.addEventListener(Event.COMPLETE, onAudioLoadComplete); * } * function onAudioLoadComplete(event:Event):void * { *	 songsLoaded++; *	 if (songsLoaded == players.length) *	 { *	 	var menu:AudioPlayerMenu = new AudioPlayerMenu(); *	 	for (var i:int = 0; i < players.length; i++) { menu.addPlayer(players[i]); } *	 	addChild(menu); *	 } * } * </code> * * @see com.johnpolacek.media.AudioPlayer *  * @version <b>13 Jul 2010</b> Added selectPlayer method<br/> * @version <b> 7 Mar 2010</b> * @author John Polacek, john@johnpolacek.com */	 		public class AudioPlayerMenu extends Sprite {				/** Array of players loaded into the menu. */		public var players:Array = [];				/** @param audioPlayers AudioPlayers that are added to the AudioPlayerMenu */			public function AudioPlayerMenu(...audioPlayers)		{			var n:int = audioPlayers.length;			for (var i:int = 0; i < n; i++)			{				addPlayer(audioPlayers[i]);			}		}				/** @param player AudioPlayer to add to the AudioPlayerMenu */		public function addPlayer(player:AudioPlayer):void		{			players.push(player);			player.y = this.height;			player.addEventListener(Event.SELECT, onPlayerSelect);			addChild(player);		}				/** @param playerIndex Index of player to select and play. */		public function selectPlayer(playerIndex:int):void		{			players[playerIndex].playAudio();		}				private function onPlayerSelect(event:Event):void		{			var n:int = players.length;			for (var i:int = 0; i < n; i++)			{				if (players[i]!=event.target) players[i].pauseAudio();			}		}				public function destroy():void		{			var n:int = players.length;			for (var i:int = 0; i < n; i++)			{				players[i].removeEventListener(Event.SELECT, onPlayerSelect);				removeChild(players[i]);			}		}	}}